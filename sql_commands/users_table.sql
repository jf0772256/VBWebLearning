-- Creating a user table 
--CREATE TABLE IF NOT EXISTS users (
--	id INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY,
--	first_name STRING NOT NULL,
--	last_name STRING NOT NULL,
--	email STRING NOT NULL UNIQUE,
--	phone_number STRING DEFAULT NULL,
--	password STRING NOT NULL,
--	account_status INTEGER NOT NULL DEFAULT 1,
--	account_email_verified INTEGER NOT NULL DEFAULT 0,
--	account_phone_number_verified INTEGER NOT NULL DEFAULT 0,
--	PRIMARY KEY (id));
-- setting up some indexes that may be helpful...
--CREATE INDEX idx_user_phone ON users (users.phone_number AS STRING);
--CREATE INDEX idx_user_name ON users (users.first_name AS STRING, users.last_name AS STRING);
--CREATE INDEX idx_user_email ON users(users.email AS STRING);

-- generated using create a table wizzard...
CREATE TABLE "USERS" (
  "ID" INTEGER 
  GENERATED BY DEFAULT AS IDENTITY ( 
    START WITH 1 
    CACHE 20 
    MAXVALUE 999999999999999999999999999 ) NOT NULL,
  "FIRST_NAME" CHARACTER VARYING(30 CHAR) NOT NULL,
  "LAST_NAME" CHARACTER VARYING(50 CHAR) NOT NULL,
  "EMAIL" CHARACTER VARYING(100 CHAR) NOT NULL,
  "PHONE" CHARACTER VARYING(15 CHAR) DEFAULT NULL NULL,
  "EMAIL_VERIFIED" SMALLINT DEFAULT 0 NOT NULL,
  "ACCOUNT_STATUS" SMALLINT DEFAULT 1 NOT NULL,
  "PHONE_VERIFIED" SMALLINT DEFAULT 0 NULL,
  CONSTRAINT CONST_EMAIL_IS_UNIUE 
    UNIQUE ( "EMAIL") 
    ENABLE 
    VALIDATE,
  CONSTRAINT CONST_PRIMARY_KEY 
    PRIMARY KEY ( "ID") 
    ENABLE 
    VALIDATE);
CREATE INDEX "IDX_USER_NAME"
  ON "USERS" ( 
    "FIRST_NAME", 
    "LAST_NAME");
CREATE INDEX "IDX_PHONE"
  ON "USERS" ( 
    "PHONE", 
    "PHONE_VERIFIED");
CREATE INDEX "IDX_EMAIL"
  ON "USERS" ( 
    "EMAIL", 
    "EMAIL_VERIFIED");
CREATE INDEX "IDX_ACCOUNT_STATUS"
  ON "USERS" ( 
    "ACCOUNT_STATUS", 
    "ID");
